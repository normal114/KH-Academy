<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<h2>1. 숫자형 형변환 number()</h2>
	<p>문자형(정수형, 실수형)을 숫자형으로 반환</p>
	<input type="text" id="num" />
	<button onclick="numTest(num.value)">클릭!</button>
	<!-- (num.value)는 argument이다. -->
	<script type="text/javascript">
		function numTest(val){ // (val)은 parameter이다.
			var val = Number(val) + 5;
			alert(val + " : " + typeof(val));
// 브라우저에 쓰는 값은 String이다. argument num.value는 문자열인데 이것이 Number(val) prameter에서 숫자로 바뀐다. 따라서 결과가 숫자로 출력된다. 
		}
	</script>
	
	<h2>2.정수형 형변환 parseInt()</h2>
	<p>문자형을 정수형으로 반환</p>
	<input type="text" id="int" />
	<button onclick="inTest(int.value);">클릭!</button>
	
	<script type="text/javascript">
		function inTest(val){
			var val = parseInt(val) + 5;
			alert(val + " : " + typeof(val));
// parseInt는 브라우저에 정수를 쓰던 실수를 쓰던 전부 정수로 출력해준다.
		}
	</script>
	
	<h2>3.실수형 형변환 parseFloat()</h2>
	<p>문자형을 실수형으로 반환</p>
	<input type="text" id="float" />
	<button onclick="floatTest(float.value);">클릭!</button>
	
	<script type="text/javascript">
		function floatTest(val){
			var val = parseFloat(val) + 5;
			alert(val + " : " + typeof(val));
		}
	</script>
	
	<h4>4.검증함수 eval()</h4>
	<p>문자열로 된 코드를 자바스크립트로 가져와서 실행</p>
	<input type="text" name="evalue" placeholder="예) 5 + 10" />
	<button onclick="evalTest()">계산!</button>
	<span></span>
	
	<script type="text/javascript">
		
		function evalTest(){
			var val = document.getElementsByName("evalue")[0];
			if (confirm("작성하신 코드가 맞나요? : " + val.value)) {
				document.getElementsByTagName("span")[0].innerHTML = "<b>계산결과 : " + eval(val.value) + "</b>";
		// eval은 어떤 위험성이 있더라도 안에 들어온 파라미터가 있으면 실행시켜준다. 컴퓨터가 고장나는 코드가 있어도 실행된다. 
			} else {
				val.value = "다시 작성해 주세요";
			}
		}
// 브라우저 eval()에서 a + b는 먹히지 않는다. 왜냐하면 a와 b의 변수를 입력하지 않았기 때문이다.
// 하지만 브라우저 eval()에서 a=1, b=2, a+b라고 작성하면 3으로 출력된다. 

	</script>
	
	<hr/>
	
	<input type="number" class="calc" />
	<input type="text" list="cal" class="calc" />
	<datalist id="cal">
		<option value="+" />
		<option value="-" />
		<option value="*" />
		<option value="/" />
	</datalist>	
	<input type="number" class="calc" />
	<button onclick="calc();"> = </button>
	<span></span>
	<!-- span tag에 결과값을 넣어달라 -->

	<script type="text/javascript">
	
		function calc(){
			var docs = document.querySelectorAll(".calc");
			var res = "";
			
			for (var i = 0; i < docs.length; i++) {
				res += docs[i].value;		
			}
			
			document.getElementsByTagName("span")[1].innerHTML = eval(res);
		// span이 [1]인 이유는 위에 span을 썼기 때문에다. 만약 <span>을 <b>태그로 바꾸면 b[0]이 될 것이다. 
		}
		
/*
 * class가 아닌 id로 만드는 법
 *
 *			<input type="number" id="calc01" />
 *			<input type="text" list="cal" id="calc02" />
 *			<datalist id="cal">
 *				<option value="+" />
 *				<option value="-" />
 *				<option value="*" />
 *				<option value="/" />
 *			</datalist>	
 *			<input type="number" id="calc03" />
 *			<button onclick="calc();"> = </button>
 *			<span id="result"></span>
 *
 *			<script type="text/javascript">
 *			
 *				function calc(){
 *                  var res = "";
 *
 *					var num01 = document.getElementById("calc01").value;
 *					var opr = document.getElementById("calc02").value;
 *					var num02 = document.getElementById("calc03").value;
 *					
 *					res = num01 + opr + num02;
 *
 *					document.getElementById("result").innerHTML = eval(res);
 *				 
 *				}
 */		
		
	</script>

</body>
</html>